@model LogicUniversityTeam5.Models.ItemAndVoucher
@{
    ViewBag.Title = "Manage monthly stock discrepancy";
}

<div class="container">
        <h1 class="text-center">Discrepancy Item</h1>
        <div class="row justify-content-md-center mt-5">
            <div class="col-8">
  <table  class="table">
    <thead>
        <tr>
            <th scope="col" class="text-left">Stationery Description</th>
            <th scope="col" class="text-left">Quantity to be adjusted</th>
            <th scope="col" class="text-left">Amount</br></th>
            <th scope="col" class="text-center col-4">Reason</th>
            <th scope="col" class="text-left">Date of Report</th>
            <th scope="col" class="text-left">Action</th>
        </tr>
    </thead>
    @using (Html.BeginForm("ManageMonthlyStockDiscrepancy", "model", FormMethod.Post))
    {
        <tbody>
            @foreach (var item in Model.stockVoucher)
            {
            <tr>
                @{var gap = item.actualcount - item.originalcount;
                    int count = 0;}
                <td>
                    @Html.DisplayFor(m => Model.item[count].ItemName)
                </td>
                <td>
                    @Html.DisplayFor(m => gap)
                </td>
                <td>
                    @Html.DisplayFor(m => item.ItemCost)
                </td>
                <td>
                    @Html.TextBoxFor(m => item.Reason, new { @class = "form-control" })
                </td>
                <td>
                    @Html.DisplayFor(m => item.RaisedByDate)
                </td>
                <td class="text-center">
                    @Html.CheckBoxFor(m=> Model.isSelected[count],new { @style = "width: 15px; height: 15px;" , @id = "HighlighterBlue" }) 
                </td>
            </tr>
                 count++;
             }
        </tbody>

    }
</table>
            </div>
        </div>
        <div class="row justify-content-md-center mt-3">
            <div class="col-4 text-center">
                <input type="submit" class="btn btn-primary" data-toggle="modal" data-target="#myModalconfirm" id="btn_Confirm"
                       value="Confirm" />
            </div>
            <div class="modal fade" id="myModalconfirm" role="dialog">
                <div class="modal-dialog">
                     Modal content
                    <div class="modal-content">
                        <div class="modal-header">

                            <h6 class="modal-title text-right">Submission Adjustment Vouchers</h6>
                        </div>
                        <div class="modal-body text-left">
                            <p>The stock levels and the reason for discrepancies will be saves. Do you wish to continue?</p>
                        </div>
                        <div class="modal-footer">
                            <div class="row justify-content-md ">
                                <div class="col-6 text-center"><button data-dismiss="modal" class="btn btn-default">Cancel</button></div>
                                <div class="col-6 text-right "><button type="submit" class="btn btn-primary">Ok</button></div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
            <div class="col-4 text-center">
                @Html.ActionLink("Link", "Index", "Home" )
            </div>
        </div>
    </div>


